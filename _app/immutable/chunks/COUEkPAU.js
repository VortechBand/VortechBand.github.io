import{d as mt,a as w,t as A}from"./MIYH2pJY.js";import"./C5fjVby0.js";import{p as nt,ab as L,ac as ot,f as ct,a as vt,g as t,ae as o,K as et,c as m,s as N,r as c,ad as r,t as U,ay as ut}from"./SBfCqJQi.js";import{e as b,s as gt}from"./CQm14mLq.js";import{e as ft,i as ht}from"./BL01sMtj.js";import{s as p}from"./Dq_zYPlv.js";import{b as at}from"./Fp4WkmMb.js";import{i as dt}from"./DsfHQtuh.js";import{p as v}from"./CMIn4d_G.js";import{o as bt}from"./BDZL8uEZ.js";import{S as st}from"./Cxg5u7Uv.js";import{i as Q}from"./CwNUssLy.js";function rt(y){return function(...n){var g=n[0];return g.stopPropagation(),y==null?void 0:y.apply(this,n)}}var pt=A('<h2 id="modal-title" class="modal-title svelte-qd6txp"> </h2>'),xt=A('<button class="nav-button prev svelte-qd6txp" aria-label="Previous image">‹</button>'),_t=A('<button class="nav-button next svelte-qd6txp" aria-label="Next image">›</button>'),kt=A('<div class="modal-backdrop svelte-qd6txp" role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1"><div class="modal-content svelte-qd6txp"><button class="close-button svelte-qd6txp" aria-label="Close modal">×</button> <!> <div class="image-wrapper svelte-qd6txp"><!>  <img class="modal-image svelte-qd6txp"> <!></div></div></div>');function Mt(y,n){nt(n,!1);let g=v(n,"isOpen",12,!1),B=v(n,"imageSrc",8,""),K=v(n,"imageAlt",8,""),O=v(n,"title",8,""),l=v(n,"onNavigate",8,void 0),x=v(n,"canNavigatePrev",8,!1),I=v(n,"canNavigateNext",8,!1),f=o(),E=0,_=0;const h=()=>{g(!1)},d=i=>{i.key==="Escape"?h():i.key==="ArrowLeft"?(i.preventDefault(),i.stopPropagation(),x()&&l()&&l()("prev"),setTimeout(()=>{var s;return(s=t(f))==null?void 0:s.focus()},0)):i.key==="ArrowRight"&&(i.preventDefault(),i.stopPropagation(),I()&&l()&&l()("next"),setTimeout(()=>{var s;return(s=t(f))==null?void 0:s.focus()},0))},k=i=>{i.target===i.currentTarget&&h()},C=()=>{h()},D=i=>{E=i.touches[0].clientX},P=i=>{_=i.changedTouches[0].clientX,u()},u=()=>{const s=E-_;Math.abs(s)>50&&l()&&(s>0&&I()?l()("next"):s<0&&x()&&l()("prev"))};L(()=>(et(g()),t(f)),()=>{g()&&t(f)&&t(f).focus()}),ot(),dt();var T=mt(),V=ct(T);{var Y=i=>{var s=kt(),G=m(s),X=m(G),W=N(X,2);{var S=e=>{var a=pt(),F=m(a,!0);c(a),U(()=>gt(F,O())),w(e,a)};Q(W,e=>{O()&&e(S)})}var j=N(W,2),q=m(j);{var R=e=>{var a=xt();b("click",a,rt(()=>l()("prev"))),w(e,a)};Q(q,e=>{l()&&x()&&e(R)})}var M=N(q,2),Z=N(M,2);{var $=e=>{var a=_t();b("click",a,rt(()=>l()("next"))),w(e,a)};Q(Z,e=>{l()&&I()&&e($)})}c(j),c(G),c(s),at(s,e=>r(f,e),()=>t(f)),U(()=>{p(M,"src",B()),p(M,"alt",K())}),b("click",X,h),b("click",M,C),b("click",s,k),b("keydown",s,d),b("touchstart",s,D),b("touchend",s,P),w(i,s)};Q(V,i=>{g()&&i(Y)})}w(y,T),vt()}var yt=A('<article class="item svelte-ql4vlk"><button class="image-button svelte-ql4vlk"><div class="image-container svelte-ql4vlk"><img loading="lazy" class="svelte-ql4vlk"></div></button></article>'),qt=A('<div class="album-gallery svelte-ql4vlk"><div class="scroll-button left svelte-ql4vlk"><!></div> <div class="items-wrapper svelte-ql4vlk"><div class="items-container svelte-ql4vlk" role="presentation"></div></div> <div class="scroll-button right svelte-ql4vlk"><!></div></div> <!>',1);function Xt(y,n){nt(n,!1);const g=o(),B=o(),K=o(),O=o();let l=v(n,"images",24,()=>[]),x=v(n,"albumTitle",8,""),I=v(n,"buttonWidth",8,40),f=v(n,"itemMinWidth",8,200),E=v(n,"itemMaxWidth",8,200),_=o(E()),h=o(0),d=o(0),k=o(),C=o([]),D=o(!1),P=o({src:"",alt:"",title:""}),u=o(0),T=o("");const V=()=>{if(!t(k))return;const e=t(k).clientWidth;let a=Math.floor(e/E());a<2&&(a=2),a=Math.min(a,l().length),r(_,Math.floor(e/a)),r(_,Math.max(f(),t(_))),r(h,a)},Y=()=>{r(d,Math.max(0,t(d)-2))},i=()=>{const e=Math.max(0,l().length-t(h));r(d,Math.min(e,t(d)+2))},s=(e,a)=>{r(P,e),r(u,a),r(T,x()?`${x()} - ${e.title}`:e.title),r(D,!0)},G=e=>{const a=e==="prev"?Math.max(0,t(u)-1):Math.min(l().length-1,t(u)+1);r(u,a),r(P,l()[a]),r(T,x()?`${x()} - ${l()[a].title}`:l()[a].title)};bt(()=>{V();const e=new ResizeObserver(()=>{V()});return t(k)&&e.observe(t(k)),()=>{e.disconnect()}}),L(()=>t(u),()=>{r(g,t(u)>0)}),L(()=>(t(u),et(l())),()=>{r(B,t(u)<l().length-1)}),L(()=>t(d),()=>{r(K,t(d)===0)}),L(()=>(t(d),t(h),et(l())),()=>{r(O,t(d)+t(h)>=l().length)}),ot(),dt();var X=qt(),W=ct(X),S=m(W),j=m(S);st(j,{label:"◄",onPress:Y,get disabled(){return t(K)}}),c(S);var q=N(S,2),R=m(q);ft(R,5,l,ht,(e,a,F)=>{var z=yt(),H=m(z),lt=m(H),it=m(lt);c(lt),c(H),c(z),at(z,(tt,J)=>ut(C,t(C)[J]=tt),tt=>{var J;return(J=t(C))==null?void 0:J[tt]},()=>[F]),U(()=>{p(z,"style",`width: ${t(_)??""}px;`),p(H,"aria-label",`View ${t(a).alt??""}`),p(it,"src",t(a).src),p(it,"alt",t(a).alt)}),b("click",H,()=>s(t(a),F)),w(e,z)}),c(R),c(q),at(q,e=>r(k,e),()=>t(k));var M=N(q,2),Z=m(M);st(Z,{label:"►",onPress:i,get disabled(){return t(O)}}),c(M),c(W);var $=N(W,2);Mt($,{get imageSrc(){return t(P).src},get imageAlt(){return t(P).alt},get title(){return t(T)},onNavigate:G,get canNavigatePrev(){return t(g)},get canNavigateNext(){return t(B)},get isOpen(){return t(D)},set isOpen(e){r(D,e)},$$legacy:!0}),U(()=>{p(S,"style",`width: ${I()??""}px;`),p(R,"style",`transform: translateX(-${t(d)*t(_)}px);`),p(M,"style",`width: ${I()??""}px;`)}),w(y,X),vt()}export{Xt as A};
